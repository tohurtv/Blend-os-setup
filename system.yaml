arch-repo: https://mirror.arizona.edu/archlinux
impl: http://github.com/tohurtv/blend-os-tracks/raw/main
repo: https://pkg-repo.blendos.co
track: plasma-minimal

packages:
  # --- System & Core Utilities ---
  - 'bluez-utils'
  - 'i2c-tools'
  - 'lvm2'
  - 'cups'
  - 'mesa-utils'
  - 'noto-color-emoji-fontconfig'
  - 'distrobox'
  - 'btrfs-progs'
  - 'btrfs-assistant'
  - 'unarchiver'
  - 'unrar'
  - 'openh264'
  - 'openrgb'
  - 'gst-plugins-bad'
  - 'gst-plugins-base'
  - 'gst-plugins-base-libs'
  - 'gst-plugins-good'
  - 'gst-plugins-ugly'
  - 'alsa-lib'
  - 'alsa-plugins'
  - 'mesa'
  - 'mesa-libgl'
  - 'qemu-desktop'
  - 'libvirt'
  - 'edk2-ovmf'
  - 'swtpm'
  - 'virt-manager'
  - 'gamemode'
  - 'gamescope'
  - 'lib32-gamemode'
  - 'lib32-vulkan-radeon'
  - 'vulkan-headers'
  - 'vulkan-icd-loader'
  - 'vulkan-radeon'
  - 'vulkan-tools'
  - 'xpadneo-dkms-git'
  - 'goverlay'
  - 'lib32-obs-vkcapture-git'
  - 'obs-vkcapture-git'
  - 'mongodb'
  - 'nodejs'
  - 'npm'
  - 'appmenu-gtk-module'
  - 'libdbusmenu-glib'
  - 'libdbusmenu-gtk2'
  - 'libdbusmenu-gtk3'
  - 'libdbusmenu-lxqt'
  - 'breeze5'
  - 'plasma6-applets-window-title'
  - 'plasma6-wallpapers-wallpaper-engine-git'
  - 'layer-shell-qt5'
# --- Davinci Resolve ---
  - 'glu'
  - 'gtk2'
  - 'libpng12'
  - 'fuse2'
  - 'opencl-driver'
  - 'qt5-x11extras'
  - 'qt5-svg'
  - 'qt5-webengine'
  - 'qt5-websockets'
  - 'qt5-quickcontrols2'
  - 'qt5-multimedia'
  - 'libxcrypt-compat'
  - 'xmlsec'
  - 'java-runtime'
  - 'ffmpeg4.4'
  - 'gst-plugins-bad-libs'
  - 'python-numpy'
  - 'tbb'
  - 'apr-util'
  - 'luajit'
  - 'libc++'
  - 'libc++abi'
  - 'opencl-rusticl-mesa'

package-repos:
  - name: 'chaotic-aur'
    repo-url: 'https://cdn-mirror.chaotic.cx/$repo/$arch'

aur-packages:
  - 'plasma6-themes-vapor-steamos'
  - 'tela-circle-icon-theme-standard-git'
  - 'plasma6-applets-separator-git'
  - 'mpris-scrobbler'

services:
  - 'mongodb'
  - 'libvirtd'

commands:
  - 'curl -fsSL https://ollama.com/install.sh | sh'
  - 'mkdir -p /etc/systemd/system/ollama.service.d && curl -sSL https://raw.githubusercontent.com/tohurtv/Blend-os-setup/main/ollama-service-override.conf -o /etc/systemd/system/ollama.service.d/override.conf && systemctl enable ollama'
  - 'mkdir -p /etc/sddm.conf.d && curl -sSL https://raw.githubusercontent.com/tohurtv/Blend-os-setup/main/sddm-wayland.conf -o /etc/sddm.conf.d/10-wayland.conf'
  - 'curl -sSL https://raw.githubusercontent.com/tohurtv/Blend-os-setup/main/lactd.service -o /etc/systemd/system/lactd.service && systemctl enable lactd.service'
  - 'curl -sSL https://raw.githubusercontent.com/tohurtv/blend-update/main/install.sh | bash'
  - 'rm -rf /var/cache/pacman'
  - 'rm /usr/share/applications/assistant.desktop && rm /usr/share/applications/avahi-discover.desktop && rm /usr/share/applications/bvnc.desktop && rm /usr/share/applications/electron*.desktop && rm /usr/share/applications/*-openjdk.desktop && rm /usr/share/applications/linguist.desktop && rm /usr/share/applications/lstopo.desktop && rm /usr/share/applications/qdbusviewer.desktop && rm /usr/share/applications/qv4l2.desktop && rm /usr/share/applications/qvidcap.desktop && rm /usr/share/applications/stoken-*.desktop && rm /usr/share/applications/org.kde.kuserfeedback-console.desktop && rm /usr/share/applications/bssh.desktop && rm /../usr/share/applications/cups.desktop'
  - 'ln -s /usr/lib/libopenh264.so /usr/lib/libopenh264.so.7'
  - 'flatpak override --system --env=GTK_THEME=Breeze'
